<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Form</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        form {
            display: flex;
            flex-direction: column;
            width: 50%;
        }

        form * {
            width: 100%;
        }

        label {
            margin-bottom: 3px;
        }

        input,
        textarea {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <h1>Products</h1>
    <form id="product-form">
        <label for="product-img">Image</label>
        <input type="file" name="product-img" id="product-img" accept="image/*" />
        <label for="product-name">Name</label>
        <input type="text" name="product-name" id="product-name" placeholder="Product" />
        <label for="ratings">Ratings</label>
        <input type="number" id="ratings" min="1" max="5">
        <label for="number-of-ratings">Number of ratings</label>
        <input type="number" id="number-of-ratings">
        <label for="product-original-price">Original price</label>
        <input type="text" name="product-original-price" id="product-original-price" placeholder="Price" />
        <label for="product-discount-price">Discount price</label>
        <input type="text" name="product-discount-price" id="product-discount-price" placeholder="Price" />
        <label for="product-description">Description</label>
        <textarea name="product-description" id="product-description" cols="30" rows="10"></textarea>
        <button type="submit">Submit</button>
    </form>
    <script>
        document.getElementById('product-form').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting in the traditional way

            const form = event.target;
            const formData = new FormData(form);

            // If you need to include the image file, handle it separately
            const fileInput = document.getElementById('product-img');
            if (fileInput.files.length > 0) {
                formData.append('product-img', fileInput.files[0]);
            }

            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            fetch('upload.json', {
                method: 'Get',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
                .then(response => response.json())
                .then(data => console.log(data))
                .catch(error => console.error('Error:', error));
        });

    </script>
</body>

</html>